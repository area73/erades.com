---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";

// Obtener el parámetro de búsqueda de la URL
const query = Astro.url.searchParams.get("q") || "";
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={`Search | ${SITE_TITLE}`} description={SITE_DESCRIPTION} />
  </head>
  <body class="bg-background text-foreground min-h-screen">
    <Header />
    <main class="max-w-[1200px] mx-auto pt-8 transition-main">
      <section>
        <div
          class="max-w-5xl mx-auto px-4 py-8"
          id="search-container"
          data-initial-query={query}
        >
          <div class="mb-8">
            <h1 class="text-3xl font-bold text-foreground mb-2">
              Resultados de búsqueda
            </h1>
            <p class="text-muted-foreground" id="results-count">
              {query ? `Buscando "${query}"...` : ""}
            </p>
          </div>

          <div class="flex flex-wrap gap-2 mb-8 items-center">
            <svg
              class="h-4 w-4 text-muted-foreground mr-2"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
            >
              <polygon points="22 3 2 3 10 13 10 19 14 21 14 13 22 3"></polygon>
            </svg>
            <span class="text-base text-muted-foreground mr-2 font-[Inter]">
              Filtrar por categoría:
            </span>
            <div id="category-filters">
              <button
                class="px-3 py-1 rounded-full text-sm font-medium border transition-colors duration-150 bg-primary text-primary-foreground border-primary category-btn"
                data-category="all"
              >
                Todas
              </button>
            </div>
          </div>

          <ul
            class="grid grid-cols-1 md:grid-cols-2 gap-8 list-none m-0 p-0"
            id="results-list"
          >
            <li class="col-span-full text-center py-12">
              <div class="animate-pulse">
                <div class="h-8 bg-muted rounded w-48 mx-auto mb-4"></div>
                <div class="h-4 bg-muted rounded w-64 mx-auto"></div>
              </div>
            </li>
          </ul>
        </div>
      </section>
    </main>
  </body>
</html>
