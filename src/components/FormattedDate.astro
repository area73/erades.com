---
interface Props {
  date: Date;
  lang?: string;
}

const { date, lang = "en" } = Astro.props;

// Mapeo de idiomas a locales para fechas
const localeMap = {
  en: "en-us",
  es: "es-es",
} as const;

const locale = localeMap[lang as keyof typeof localeMap] || "en-us";
---

<time
  datetime={date instanceof Date && !isNaN(date.getTime())
    ? date.toISOString()
    : undefined}
>
  {
    date instanceof Date && !isNaN(date.getTime())
      ? date.toLocaleDateString(locale, {
          year: "numeric",
          month: "long",
          day: "numeric",
        })
      : "-"
  }
</time>
