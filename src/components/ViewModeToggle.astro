---
import { LayoutGrid, List } from "@lucide/astro";
import If from "./If.astro";
interface Props {
  viewMode: string;
}
const { viewMode } = Astro.props as Props;
---

<div class="flex items-center gap-1 bg-secondary rounded-lg p-1 w-fit">
  <If condition={viewMode === "grid"}>
    <a
      slot="then"
      href={Astro.url.pathname +
        `?${new URLSearchParams({ ...Object.fromEntries(Astro.url.searchParams.entries()), viewMode: "grid" }).toString()}`}
      class="h-8 w-8 p-0 rounded-full flex items-center justify-center bg-primary text-primary-foreground"
      title="Vista grid"
      aria-label="Cambiar a vista de cuadrícula (activa)"
    >
      <LayoutGrid class="h-4 w-4 mx-auto" />
    </a>
    <a
      slot="else"
      href={Astro.url.pathname +
        `?${new URLSearchParams({ ...Object.fromEntries(Astro.url.searchParams.entries()), viewMode: "grid" }).toString()}`}
      class="h-8 w-8 p-0 rounded-full flex items-center justify-center bg-transparent text-muted-foreground"
      title="Vista grid"
      aria-label="Cambiar a vista de cuadrícula"
    >
      <LayoutGrid class="h-4 w-4 mx-auto" />
    </a>
  </If>
  <If condition={viewMode === "list"}>
    <a
      slot="then"
      href={Astro.url.pathname +
        `?${new URLSearchParams({ ...Object.fromEntries(Astro.url.searchParams.entries()), viewMode: "list" }).toString()}`}
      class="h-8 w-8 p-0 rounded-full flex items-center justify-center bg-primary text-primary-foreground"
      title="Vista lista"
      aria-label="Cambiar a vista de lista (activa)"
    >
      <List class="h-4 w-4 mx-auto" />
    </a>
    <a
      slot="else"
      href={Astro.url.pathname +
        `?${new URLSearchParams({ ...Object.fromEntries(Astro.url.searchParams.entries()), viewMode: "list" }).toString()}`}
      class="h-8 w-8 p-0 rounded-full flex items-center justify-center bg-transparent text-muted-foreground"
      title="Vista lista"
      aria-label="Cambiar a vista de lista"
    >
      <List class="h-4 w-4 mx-auto" />
    </a>
  </If>
</div>
