---
import { Search } from "@lucide/astro";
interface Props {
  query?: string;
  lang: string;
}

const { query = "", lang } = Astro.props;
import { t } from "../i18n";
---

<div class="relative flex items-center max-w-md w-full mx-0">
  <form action="/search" method="get" class="flex w-full">
    <span
      class="absolute left-3 top-1/2 -translate-y-1/2 flex items-center pointer-events-none"
    >
      <Search class="h-4 w-4 text-muted-foreground stroke-2" />
    </span>
    <input
      type="search"
      placeholder={t(lang as "en" | "es", "search.placeholder")}
      class="pl-8 pr-4 h-11 w-full rounded-md border bg-secondary text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/20 focus-visible:border-primary transition-all duration-200"
      value={query}
      name="q"
      aria-label={t(lang as "en" | "es", "search.ariaLabel")}
      autocomplete="off"
      title={t(lang as "en" | "es", "search.title")}
    />
    {
      /**
    <button
      type="submit"
      class="absolute right-4 top-1/2 -translate-y-1/2 bg-primary text-primary-foreground rounded-md px-3 py-2 hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/40 transition"
      aria-label="Buscar"
      title="Buscar"
    >
      <Search class="h-4 w-4" />
    </button>
    */
    }
  </form>
</div>
